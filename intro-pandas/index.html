<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Introduction to Pandas | Girl Develop It</title>

    <meta name="description" content="This is the official Girl Develop It Intro to Pandas workshop. The workshop is meant to be taught in one two-hour session. Each of the slides and practice files are customizable according to the needs of a given class or audience.">

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="shortcut icon" href="favicon.ico">

  <link rel="stylesheet" href="css/reveal.min.css">
  <link rel="stylesheet" href="css/theme/gdiaa.css" id="theme">
  <link rel="stylesheet" href="lib/css/light.css">
  <link rel="stylesheet" href="css/print/pdf.css" media="print">

  <script src="lib/js/head.min.js"></script>

  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->
</head>

<body>
  <div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

        <!-- Opening slide -->
        <section>
          <img src="img/circle-gdi-logo.png" class="img--bare" height="450px" />
          <div class="copy--small box--small">
            <h3><span class="green">Intro to Pandas Workshop</span></h3>
          </div>
        </section>

        <section>
        <!-- Welcome-->
          <h3>Welcome!</h3>
          <div class = "left-align">
          <p>Girl Develop It is here to provide affordable and accessible programs to learn software through mentorship and hands-on instruction.</p>
          <p class ="green">Some "rules"</p>
          <ul>
            <li>We are here for you!</li>
            <li>Every question is important</li>
            <li>Help each other</li>
            <li>Have fun</li>
          </ul>
          </div>
        </section>

        <section>
          <h3>Welcome!</h3>
          <div class = "left-align">
          <p class = "blue">Tell us about yourself.</p>
          <ul>
            <li>Who are you?</li>
            <li>What made you interested in this course?</li>
            <li>What is your favorite or dream vacation destination?</li>

          </ul>
          </div>
        </section>

        <section>
          <h3>What we will cover</h3>
          <ul class="list--xtall copy--small box--small copy--small">
            <li class ="fragment">What is pandas?</li>
            <li class ="fragment">Why pandas?</li>
            <li class ="fragment">Uploading and Saving Data</li>
            <li class ="fragment">Summarizing and Organizing Data</li>
            <li class ="fragment">Manipulating Data</li>
          </ul>
        </section>

       <section>
        <h3>What is pandas?</h3>
        <ul class="list--tall copy--small copy--small box--small">
          <li class ="fragment">pandas is a Python package designed to make working with data both
          easy and intuitive.</li>
          <li class ="fragment">It is an extremely useful tool for doing practical, real world data analysis in Python.</li>
        </ul>
      </section>

     <section>
        <h3>Why pandas?</h3>
        <ul class="list--tall copy--small copy--small box--small">
          <li class ="fragment">Extremely fast, even with large datasets</li>
          <li class ="fragment">Quick, intuitive commands</li>
          <li class ="fragment">View your data without crashing your computer</li>
          <li class ="fragment">Easy to use for developers, statisticians, and basically anyone
          working with a lot of data</li>
          <li class="fragment">Used by many companies</li>
        </ul>
      </section>

      <section>
        <h3>Who is using pandas?</h3>
        <ul class="list--tall copy--small copy--small box--small">
          <li>Facebook</li>
          <li>AppNexus</li>
          <li>SpringServe</li>
          <li>(many others)</li>
        </ul>
      </section>

      <section>
        <h3>Setup - pip</h3>
        <p class="copy--small box--small">Open up your terminal and install all of the following
        packages that are not already on your computer:</p>
        <p class="copy--small box--small">pip for mac users - run the  pip command below</p>
        <p class="copy--small box--small">pip for windows users - copy the text from <a
                href="https://bootstrap.pypa.io/get-pip.py">here</a>, save it to a
        python file, then run <code>python (filename)</code></p>
        <div class='copy--small box--small'><pre><code contenteditable class="python">
# for mac users only
sudo easy_install pip
        </code></pre></div>
        <p class="copy--small box--small">Running sudo will require you to enter your computer password</p>
      </section>

      <section>
      <h3>Setup - ipython and pandas</h3>
        <p class="copy--small box--small">ipython is a python console, similar to when you
        run python in the console and get the <code>>>></code> prompt</p> 
        <p class="copy--small box--small">ipython is better especially with pandas,
        because it's more interactive</p>
        <p class="copy--small box--small">To install ipython and pandas, run the commands below<p>
        <div class='copy--small box--small'><pre><code contenteditable class="python">
pip install ipython
pip install pandas
        </code></pre></div>
        <p class="copy--small box--small">If you receive a permission denied message, run with sudo pip instead</p>
      </section>

      <section>
        <h3>Our Sample Data</h3>
        <p class='copy--small box--small'>Our data is stored in the folder
        intermediate-python-pandas/example_data/</p>
        <p class='copy--small box--small'>Once in that folder, open up the file purchases.csv</p>
        <p class='copy--small box--small'>(This is the last time you're allowed to open a
        csv in this class)</p>
      </section>

      <section>
        <h3>Ipython and tab completion</h3>
        <p class='copy--small box--small'>In your terminal run ipython. Let's import pandas and try
        out tab completion</p>
        <div class='copy--small box--small'><pre><code contenteditable class="python">
In [1]: import pandas

In [2]: pandas.read_
# hit tab on line two to see what tab completion gives you!
        </code></pre></div>
      </section>

      <section>
      <h3>Importing our CSV</h3>
        <p class='copy--small box--small'>Now let's import our data with read_csv</p>
        <div class='copy--small box--small'><pre><code contenteditable class="python">
In [3]: purchases = pandas.read_csv('~/intermediate-python-pandas/example_data/purchases.csv')
        </code></pre></div>
        <p class='copy--small box--small'>You now have a pandas dataframe called purchases</p>
      </section>

      <section>
      <h3>Summarizing Your Data</h3>
        <p class='copy--small box--small'>A major advantage of pandas is being able to see your data
        without ever opening a file</p>
        <p class='copy--small box--small'>Here are some useful commands for summarizing your
        dataframe</p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
In [4]: purchases.head()

In [5]: purchases.tail(2)

In [6]: purchases.shape

In [7]: purchases.columns
        </code></pre></div>
      </section>

      <section>
      <h3>Let's Develop It!</h3>
        <p class='copy--small box--small'>Use the read_csv command to import our example data
        members.csv</p>
        <p class='copy--small box--small'>Print out the column names of your members dataframe</p>
        <p class='copy--small box--small'>Print out the top 10 rows of your dataframe</p>
        <p class='copy--small box--small'>Find out how many rows are in your dataframe</p>
      </section>

      <section>
      <h3>Adding and Removing Columns</h3>
        <p class='copy--small box--small'>You can quickly delete columns and add new columns to your dataframe</p>
        <p class='copy--small box--small fragment'>Deleting columns is done with the command
        <code>del</code></p>
        <p class='copy--small box--small fragment'>You can also create a new column by simply adding two existing columns together</p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
In [8]: purchases['total'] = purchases['subtotal'] + purchases['tax']

In [9]: purchases.head()

In [10]: del purchases['tax']

In [11]: purchases.head()
        </code></pre></div>
        <p class='copy--small box--small fragment'>Notice how referencing a dataframe column looks a lot like
        referencing a dictionary key</p>
      </section>

      <section>
      <h3>Fill in empty cells</h3>
        <p class='copy--small box--small'>If your data came with empty cells, pandas will fill it in
        with NaN.</p>
        <p class='copy--small box--small'>This can cause an error if you are trying to sum
        two columns.</p>
        <p class='copy--small box--small fragment'>To solve this, we can use the fillna() command to replace
        NaN with whatever we choose.</p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
In [12]: members.first_name.fillna(' ')
        </code></pre></div>
        <p class='copy--small box--small fragment'>Notice that I refer to the first_name column as
        members.first_name. That is also accepted syntax in pandas.</p>
      </section>

      <section>
      <h3>Sorting Your Data</h3>
        <p class='copy--small box--small'>You can sort your data by any row or a list of rows</p>
        <p class='copy--small box--small fragment'>Sorting will default to ascending=True, so to
        sort descending, you have to set the parameter ascending=False</p>
        <p class='copy--small box--small fragment'>Let's take a quick look at the <a
                                href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.sort_values.html">pandas
                                documentation</a> for more
        information</p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
In [13]: by_date = purchases.sort_values(by='date')

In [14]: purchases = purchases.sort_values(by=['date', 'total'], ascending=False)
        </code></pre></div>
      </section>

      <section>
      <h3>Saving Your Data</h3>
        <p class='copy--small box--small'>Now that we've made some changes to our
        dataframe,<br/>let's save it to a new csv</p>
        <p class='copy--small box--small'>To do this, we use the command to_csv
        <p class='copy--small box--small'>Check out tab complete after <code>to_</code> to
        see how else you can save your data</p>
        <div class='copy--small box--small'><pre><code contenteditable class="python">
In [15]: purchases.to_csv('~/intermediate-python-pandas/example_data/export_purchases.csv')
        </code></pre></div>
      </section>

      <section>
      <h3>Let's Develop It!</h3>
        <p class='copy--small box--small'>Take your dataframe members and do the following:</p>
        <ul class="list--xtall copy--small box--small copy--small">
          <li>Create a new column full_name, which will add first_name and last_name</li>
          <li>Delete the column for phone_number</li>
          <li>Fill in the NaN rows of the total_spent column with 0</li>
          <li>Sort data by birthday</li>
          <li>Save your dataframe as a csv called members_by_birthday.csv in the same
          folder</li></ul>
      </section>

      <section>
      <h3>Changing a Row's Data Type</h3>
        <p class='copy--small box--small'>When importing data, you may see your column imported
        as a string, but you need it to be a float.</p>
        <p class='copy--small box--small fragment'>pandas' function astype() lets you change the data
        type of your column.</p>
        <p class='copy--small box--small fragment'>Let's try changing the the data type for the members column site_visits</p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
In [16]: members.site_visits = members.site_visits.astype(str)

In [17]: members.site_visits = members.site_visits.astype(float)
        </code></pre></div>
      </section>

      <section>
      <h3>Column to Python List</h3>
      <p class='copy--small box--small'>You may come across situations where you want to<br/>
      save a column as a python list</p>
      <p class='copy--small box--small'>pandas makes it easy with the tolist() function</p>
      <div class='copy--small box--small'><pre><code contenteditable class="python">
In [18]: ids_list = purchases.member_id.tolist()

In [19]: len(ids_list)
        </code></pre></div>
      </section>

      <section>
      <h3>Dataframe Manipulation: Filtering</h3>
        <p class='copy--small box--small'>pandas filtering can look a little funny, but it is
        extremely useful</p>
        <p class='copy--small box--small fragment'>Let's look at the following code and break down exactly what
        is happening</p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
In [20]: large_purchases = purchases[purchases['total'] > 100.0] 
        </code></pre></div>
        <p class='copy--small box--small fragment'>You want to look from inside out: </p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
# We are calling the total price column from purchases
purchases['total']
        </code></pre></div>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
# We are filtering the total price column for totals greater than 100 dollars.
purchases['total'] > 100.0
        </code></pre></div>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
# We are filtering the dataframe for rows where total price is greater than 100 dollars.
purchases[purchases['total'] > 100.0]
        </code></pre></div>
      </section>

      <section>
      <h3>Let's Develop It!</h3>
        <p class='copy--small box--small'>Let's create a new dataframe named small_purchases where
        subtotal is less than 50 dollars.</p>
        <p class='copy--small box--small'>Create a python list of all the member ids in small_purchases</p>
      </section>

      <section>
      <h3>Concatinating DataFrames</h3>
        <p class='copy--small box--small'>To concatinate dataframes means to take two
        dataframes with the same columns and stacking the rows</p>
        <p class='copy--small box--small fragment'>Let's import the csv
        purchases-october.csv and print its columns</p>
        <p class='copy--small box--small fragment'>Since this csv has the columns as purchases, we can concatinate the two dataframes like so:</p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
In [21]: concatinated = pandas.concat([purchases, purchases-october])
        </code></pre></div>
      </section>

      <section>
      <h3>Merging DataFrames</h3>
        <p class='copy--small box--small'>How concat stacks rows, you can think of
        merge like stacking columns</p>
        <p class='copy--small box--small'>Merging dataframes is a lot like SQL joins</p>
        <p class='copy--small box--small fragment'>You need to use one or more columns to merge two dataframes together.</p>
        <p class='copy--small box--small fragment'>Let's merge purchases and members on the column
        member_id</p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
In [22]: merged = purchases.merge(members, how='left', on='member_id')
        </code></pre></div>
        <p class='copy--small box--small fragment'>The <code>how</code> parameter decides
        how to join the two dataframes.</p>
        <p class='copy--small box--small fragment'><code>on</code> decides the column or
        columns (as a list for multiple)<br/>that you want to merge on</p>
      </section>

      <section>
      <h3>Grouping</h3>
        <p class='copy--small box--small'>groupby allows you to group by 1 or more columns
        to get a<br/>more top-level view of your data</p>
        <p class='copy--small box--small fragment'>There are a couple of ways to do this, but here is one
        recommended way.</p>
        <div class='copy--small box--small fragment'><pre><code contenteditable class="python">
In [23]: prices_by_date = purchases.groupby('date', as_index=False)[['subtotal', 'total']].mean()

In [24]: totals_member_date = purchases.groupby(['date', 'member_id'],
                                        as_index=False)['total'].sum()
        </code></pre></div>
        <p class='copy--small box--small fragment'>You must include as_index=False since you are
        combining columns and index logic gets funny otherwise.</p>
        <p class='copy--small box--small fragment'>Look at the <a href=
                "http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html">pandas
        documentation</a> for more ways to use groupby
      </section>

      <section>
      <h3>Let's Develop It!</h3>
      <p class='copy--small box--small'>Import items_purchased.csv as a pandas dataframe called items</p>
      <p class='copy--small box--small'>Merge items with our merged dataframe by purchase_id</p>
      <p class='copy--small box--small'>Group this new dataframe by item type and date, sum the total</p>
      <p class='copy--small box--small'>*Challenge* </p>
      <p class='copy--small box--small'>Find out the member name who has spent the most on sale items</p>
      </section>

      <section>
      <h3>Survey</h3>
      <p class='copy--small box--small'>Thanks for attending Intro to Pandas!</p>
      <p class='copy--small box--small'>Your input is invaluable for the improvement of this
      workshop.</p>
      <p class='copy--small box--small'>Please take a minute and <a
              href="http://bit.ly/GDI-NYC">click here</a> to fill out our survey.</p> 
      </section>

    </div>

    <footer>
      <div class="copyright">
        <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/80x15.png" /></a>                                                                                                                                                       </div>
    </footer>
  </div>

      <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          ]
      });

    </script>
  </body>
</html>
